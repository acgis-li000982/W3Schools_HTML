<!DOCTYPE html>
<html>
<head>
    <title>Online Form</title>
</head>
<body>      
<h1>Register for Volunteering with ABC Food Bank</h1>
<p>Please fill in the form below. Your personal information will be securely protected.</p>

<script>
function saveFormData(event) {
    const form = document.getElementById("volunteerForm");

    // Let the browser check required fields
    if (!form.checkValidity()) {
        form.reportValidity(); // show built-in error messages
        return; // stop here â€” do NOT save file
    }

    event.preventDefault(); // now it's safe to stop submission

const data = {
    fname: document.getElementById("fname").value,
    lname: document.getElementById("lname").value,
    email: document.getElementById("email").value,
    phone: document.getElementById("phone").value,
    language: document.querySelector('input[name="language"]:checked')?.value,
    task: document.querySelector('input[name="task"]:checked')?.value,
    location: document.getElementById("location").value,
    availability: {
        sat_am: document.getElementById("sat_am").checked,
        sat_pm: document.getElementById("sat_pm").checked,
        sun_am: document.getElementById("sun_am").checked,
        sun_pm: document.getElementById("sun_pm").checked
    }
};

    const text = JSON.stringify(data, null, 2);
    const blob = new Blob([text], { type: "text/plain" });
    const url = URL.createObjectURL(blob);

    const a = document.createElement("a");
    a.href = url;
    a.download = "volunteer_form.txt";
    a.click();
}
</script>

<h2>About Yourself</h2>
<p>Tell us about yourself</p>
<form id="volunteerForm">
    <label for="fname">First name</label>
    <input type="text" id="fname" name="fname" required>
    <label for="lname">Last name</label>
    <input type="text" id="lname" name="lname" required><br>
    <label for="email">Email address</label>
    <input type="text" id="email" name="email" required>
    <label for="phone">Phone number</label>
    <input type="text" id="phone" name="phone" required><br>

<p>Which language do you speak?</p>
    <input type="radio" id="EN" name="language" value="EN" required>
    <label for="EN">English</label>
    <input type="radio" id="FR" name="language" value="FR">
    <label for="FR">French</label>
    <input type="radio" id="EF" name="language" value="EF">
    <label for="EF">English + French</label>

<h2>Your Availablility</h2>
<p>Which shifts are most available for you?</p>
    <input type="checkbox" id="sat_am" name="sat_am" value="sat_am">
    <label for="sat_am">Saturday Morning (8:00am - 12:00pm)</label>
    <input type="checkbox" id="sat_pm" name="sat_pm" value="sat_pm">
    <label for="sat_pm">Saturday Afternoon (1:00pm - 4:00pm)</label><br>
    <input type="checkbox" id="sun_am" name="sun_am" value="sun_am">
    <label for="sun_am">Sunday Morning (8:00am - 12:00pm)</label>
    <input type="checkbox" id="sun_pm" name="sun_pm" value="sun_pm">
    <label for="sun_pm">Sunday Afternoon (1:00pm - 4:00pm)</label><br>

<h2>Your Preferred Task</h2>
<p>Which task do you like most?</p>
    <input type="radio" id="kitchen" name="task" value="kitchen" required>
    <label for="kitchen">Kitchen: Preparing food for clients</label><br>
    <input type="radio" id="clothing" name="task" value="clothing">
    <label for="clothing">Clothing sale: Sorting and selling clothes to clients</label><br>
    <input type="radio" id="computer" name="task" value="computer">
    <label for="computer">Computer cafe: Helping clients with computer use</label><br>

<h2>Your Preferred Branch Location</h2>            <!--This is a drop-down list or a pull-down menu-->
<select id="location" name="location" required> 
    <option value="">-- Choose a location --</option>
    <option value="Bank Square">Bank Square</option>
    <option value="South Avenue">South Avenue</option>
</select>    

<h2>Ready to Submit?</h2>
<button type="submit" onclick="saveFormData(event)">Submit your form</button></form>

</body>   
</html>